angular.module('JOpas')

    .controller('RouteSearchCtrl', function ($scope, Reittiopas) {
        $scope.swapLocations = function() {
            var temp = $scope.routeLocations.from;
            $scope.routeLocations.from = $scope.routeLocations.to;
            $scope.routeLocations.to = temp;
        };

        $scope.$watch('routeLocations', function(routeLocations){
            if (routeLocations.from.name && routeLocations.to.name) {
                searchRoutes();
            }
        }, true);

        var searchRoutes = function() {
            Reittiopas.route($scope.routeLocations.from.coords,
                $scope.routeLocations.via.coords, $scope.routeLocations.to.coords) //,
                //date, time, timetype, via_time);
                .then(function(response) {
                    $scope.loading = false;
                    if (angular.isString(response.data)) {
                        $scope.error = "Reittiopas service might be busy. Try again later."
                        return;
                    }
                    if (!angular.isArray(response.data)) {
                        $scope.resultRoutes = [response.data];
                    } else {
                        $scope.resultRoutes = response.data;
                    }
                }, function(response) {
                    if (response.status === 0) {
                        return;
                    }
                    $scope.loading = false;
                    $scope.error = "There might be a problem with the connection."
                });
        }

        $scope.resultRoutes = [[{"length":5643.209,"duration":1260,"legs":[{"length":213,"duration":163.26,"type":"walk","locs":[{"coord":{"x":2556945,"y":6680289},"arrTime":"201408101517","depTime":"201408101517","name":null},{"coord":{"x":2556833.6,"y":6680373.2},"arrTime":"201408101519","depTime":"201408101519","name":null},{"coord":{"x":2556826.4,"y":6680368},"arrTime":"201408101519","depTime":"201408101519","name":"Latokartanonkaari"},{"coord":{"x":2556787,"y":6680346},"arrTime":"201408101520","depTime":"201408101520","name":"Ylioppilaskyl\u00e4","code":"1362131","shortCode":"3466","stopAddress":"Latokartanonkaari"}]},{"length":974,"duration":180,"type":"1","code":"1079  1","locs":[{"coord":{"x":2556787,"y":6680346},"arrTime":"201408101520","depTime":"201408101520","name":"Ylioppilaskyl\u00e4","code":"1362131","shortCode":"3466","stopAddress":"Latokartanonkaari"},{"coord":{"x":2556250,"y":6680120},"arrTime":"201408101522","depTime":"201408101522","name":"Viikki","code":"1362105","shortCode":"3242","stopAddress":"Pihlajam\u00e4entie"},{"coord":{"x":2556146,"y":6680343},"arrTime":"201408101523","depTime":"201408101523","name":"Pihlajistontie","code":"1383107","shortCode":"3244","stopAddress":"Pihlajam\u00e4entie"}]},{"length":80,"duration":69.42,"type":"walk","locs":[{"coord":{"x":2556146,"y":6680343},"arrTime":"201408101523","depTime":"201408101523","name":"Pihlajistontie","code":"1383107","shortCode":"3244","stopAddress":"Pihlajam\u00e4entie"},{"coord":{"x":2556142.6,"y":6680316.3},"arrTime":"201408101523","depTime":"201408101523","name":null},{"coord":{"x":2556128.3,"y":6680314.8},"arrTime":"201408101523","depTime":"201408101523","name":null},{"coord":{"x":2556119,"y":6680345},"arrTime":"201408101524","depTime":"201408101528","name":"Pihlajistontie","code":"1383108","shortCode":"3243","stopAddress":"Pihlajam\u00e4entie"}]},{"length":3963,"duration":300,"type":"1","code":"1070  2","locs":[{"coord":{"x":2556119,"y":6680345},"arrTime":"201408101524","depTime":"201408101528","name":"Pihlajistontie","code":"1383108","shortCode":"3243","stopAddress":"Pihlajam\u00e4entie"},{"coord":{"x":2556125,"y":6680198},"arrTime":"201408101528","depTime":"201408101528","name":"Viikki","code":"1363101","shortCode":"3478","stopAddress":"Lahdenv\u00e4yl\u00e4 ramppi"},{"coord":{"x":2553950,"y":6678318},"arrTime":"201408101532","depTime":"201408101532","name":"Valtimontie","code":"1240123","shortCode":"3032","stopAddress":"Kustaa Vaasan tie"},{"coord":{"x":2553825,"y":6677690},"arrTime":"201408101533","depTime":"201408101533","name":"Sumatrantie","code":"1240106","shortCode":"3030","stopAddress":"Kustaa Vaasan tie"}]},{"length":410,"duration":331.32,"type":"walk","locs":[{"coord":{"x":2553825,"y":6677690},"arrTime":"201408101533","depTime":"201408101533","name":"Sumatrantie","code":"1240106","shortCode":"3030","stopAddress":"Kustaa Vaasan tie"},{"coord":{"x":2553839,"y":6677754.6},"arrTime":"201408101533","depTime":"201408101533","name":null},{"coord":{"x":2553804.8,"y":6677768.1},"arrTime":"201408101534","depTime":"201408101534","name":"Intiankatu"},{"coord":{"x":2553762.4,"y":6677808.6},"arrTime":"201408101535","depTime":"201408101535","name":"Intiankatu"},{"coord":{"x":2553623.5,"y":6677953.6},"arrTime":"201408101538","depTime":"201408101538","name":null},{"coord":{"x":2553619,"y":6677922},"arrTime":"201408101538","depTime":"201408101538","name":null}]}]},{"length":15396.802,"duration":2340,"legs":[{"length":42,"duration":11.58,"type":"walk","locs":[{"coord":{"x":2553619,"y":6677922},"arrTime":"201408101538","depTime":"201408101538","name":null},{"coord":{"x":2553608,"y":6677952},"arrTime":"201408101539","depTime":"201408101539","name":"Kumpula","code":"1240108","shortCode":"3080","stopAddress":"Intiankatu"}]},{"length":594,"duration":60,"type":"1","code":"1052  2","locs":[{"coord":{"x":2553608,"y":6677952},"arrTime":"201408101539","depTime":"201408101539","name":"Kumpula","code":"1240108","shortCode":"3080","stopAddress":"Intiankatu"},{"coord":{"x":2553809,"y":6677840},"arrTime":"201408101540","depTime":"201408101540","name":"Intiankatu","code":"1240104","shortCode":"3078","stopAddress":"V\u00e4in\u00f6 Auerin katu"},{"coord":{"x":2553825,"y":6677690},"arrTime":"201408101540","depTime":"201408101544","name":"Sumatrantie","code":"1240106","shortCode":"3030","stopAddress":"Kustaa Vaasan tie"}]},{"length":2661,"duration":300,"type":"5","code":"4730  2","locs":[{"coord":{"x":2553825,"y":6677690},"arrTime":"201408101540","depTime":"201408101544","name":"Sumatrantie","code":"1240106","shortCode":"3030","stopAddress":"Kustaa Vaasan tie"},{"coord":{"x":2553718,"y":6677372},"arrTime":"201408101544","depTime":"201408101544","name":"Kumpulan kampus","code":"1240118","shortCode":"3028","stopAddress":"Kustaa Vaasan tie"},{"coord":{"x":2553570,"y":6676406},"arrTime":"201408101546","depTime":"201408101546","name":"Vallilan varikko","code":"1220104","shortCode":"3024","stopAddress":"H\u00e4meentie"},{"coord":{"x":2553655,"y":6675942},"arrTime":"201408101548","depTime":"201408101548","name":"Ristikkokatu","code":"1220102","shortCode":"3022","stopAddress":"H\u00e4meentie"},{"coord":{"x":2553501,"y":6675399},"arrTime":"201408101549","depTime":"201408101549","name":"S\u00f6rn\u00e4inen(M)","code":"1113229","shortCode":"2408","stopAddress":"H\u00e4meentie"}]},{"length":246,"duration":211.26,"type":"walk","locs":[{"coord":{"x":2553501,"y":6675399},"arrTime":"201408101549","depTime":"201408101549","name":"S\u00f6rn\u00e4inen(M)","code":"1113229","shortCode":"2408","stopAddress":"H\u00e4meentie"},{"coord":{"x":2553520.8,"y":6675485.1},"arrTime":"201408101550","depTime":"201408101550","name":null},{"coord":{"x":2553502.4,"y":6675506.4},"arrTime":"201408101550","depTime":"201408101550","name":"Helsinginkatu"},{"coord":{"x":2553451.3,"y":6675500.7},"arrTime":"201408101551","depTime":"201408101551","name":"Pengerkatu"},{"coord":{"x":2553436,"y":6675480},"arrTime":"201408101552","depTime":"201408101556","name":"S\u00f6rn\u00e4inen","code":"1121602","shortCode":"0017","stopAddress":"S\u00f6rn\u00e4inen"}]},{"length":3001,"duration":300,"type":"6","code":"1300V 2","locs":[{"coord":{"x":2553436,"y":6675480},"arrTime":"201408101552","depTime":"201408101556","name":"S\u00f6rn\u00e4inen","code":"1121602","shortCode":"0017","stopAddress":"S\u00f6rn\u00e4inen"},{"coord":{"x":2552929,"y":6674573},"arrTime":"201408101557","depTime":"201408101557","name":"Hakaniemi","code":"1111602","shortCode":"0016","stopAddress":"Hakaniemi"},{"coord":{"x":2552761,"y":6673716},"arrTime":"201408101559","depTime":"201408101559","name":"Kaisaniemi","code":"1020604","shortCode":"0015","stopAddress":"Kaisaniemi"},{"coord":{"x":2552422,"y":6673565},"arrTime":"201408101600","depTime":"201408101600","name":"Rautatientori","code":"1020602","shortCode":"0014","stopAddress":"Rautatientori"},{"coord":{"x":2551890,"y":6673395},"arrTime":"201408101601","depTime":"201408101601","name":"Kamppi","code":"1040602","shortCode":"0013","stopAddress":"Kamppi"}]},{"length":110,"duration":94.8,"type":"walk","locs":[{"coord":{"x":2551890,"y":6673395},"arrTime":"201408101601","depTime":"201408101601","name":"Kamppi","code":"1040602","shortCode":"0013","stopAddress":"Kamppi"},{"coord":{"x":2551884.4,"y":6673394.4},"arrTime":"201408101601","depTime":"201408101601","name":null},{"coord":{"x":2551897.5,"y":6673401.4},"arrTime":"201408101601","depTime":"201408101601","name":"Tennispalatsinaukio"},{"coord":{"x":2551879.9,"y":6673384.3},"arrTime":"201408101601","depTime":"201408101601","name":"Tennispalatsinaukio"},{"coord":{"x":2551872,"y":6673392},"arrTime":"201408101602","depTime":"201408101602","name":null},{"coord":{"x":2551901,"y":6673409},"arrTime":"201408101602","depTime":"201408101606","name":"Kamppi, laituri 45","code":"1040275","shortCode":"1245","stopAddress":"Kamppi"}]},{"length":8559,"duration":600,"type":"5","code":"2109  1","locs":[{"coord":{"x":2551901,"y":6673409},"arrTime":"201408101602","depTime":"201408101606","name":"Kamppi, laituri 45","code":"1040275","shortCode":"1245","stopAddress":"Kamppi"},{"coord":{"x":2551610,"y":6673063},"arrTime":"201408101607","depTime":"201408101607","name":"Lapinrinne","code":"1040233","shortCode":"1234","stopAddress":"Lapinrinne"},{"coord":{"x":2550900,"y":6672895},"arrTime":"201408101609","depTime":"201408101609","name":"L\u00e4nsiv\u00e4yl\u00e4","code":"1201229","shortCode":"1011","stopAddress":"Porkkalankatu 1"},{"coord":{"x":2546887,"y":6673070},"arrTime":"201408101613","depTime":"201408101613","name":"Hanasaari","code":"2222205","shortCode":"E2205","stopAddress":"L\u00e4nsiv\u00e4yl\u00e4"},{"coord":{"x":2545876,"y":6673426},"arrTime":"201408101614","depTime":"201408101614","name":"Karhusaarensolmu","code":"2213236","shortCode":"E2037","stopAddress":"L\u00e4nsiv\u00e4yl\u00e4"},{"coord":{"x":2544830,"y":6673260},"arrTime":"201408101615","depTime":"201408101615","name":"Ankkurisaarentie","code":"2231208","shortCode":"E2308","stopAddress":"Laituri 7"},{"coord":{"x":2544729,"y":6673644},"arrTime":"201408101616","depTime":"201408101616","name":"Tennispuisto","code":"2211275","shortCode":"E2015","stopAddress":"Laituri 31"}]},{"length":180,"duration":134.94,"type":"walk","locs":[{"coord":{"x":2544729,"y":6673644},"arrTime":"201408101616","depTime":"201408101616","name":"Tennispuisto","code":"2211275","shortCode":"E2015","stopAddress":"Laituri 31"},{"coord":{"x":2544734.4,"y":6673659.6},"arrTime":"201408101616","depTime":"201408101616","name":"Revontulentie"},{"coord":{"x":2544750.9,"y":6673628.5},"arrTime":"201408101616","depTime":"201408101616","name":"Revontulentie"},{"coord":{"x":2544760.1,"y":6673631},"arrTime":"201408101616","depTime":"201408101616","name":"Revontulentie"},{"coord":{"x":2544763,"y":6673619.6},"arrTime":"201408101617","depTime":"201408101617","name":"Revontulentie"},{"coord":{"x":2544770.6,"y":6673616},"arrTime":"201408101617","depTime":"201408101617","name":"Revontulenkuja"},{"coord":{"x":2544788.6,"y":6673557.1},"arrTime":"201408101618","depTime":"201408101618","name":null},{"coord":{"x":2544788.6,"y":6673551.3},"arrTime":"201408101618","depTime":"201408101618","name":"Revontulenkuja"},{"coord":{"x":2544767,"y":6673546},"arrTime":"201408101618","depTime":"201408101618","name":null}]}]}],[{"length":5252.008,"duration":1440,"legs":[{"length":975,"duration":815.58,"type":"walk","locs":[{"coord":{"x":2556945,"y":6680289},"arrTime":"201408101521","depTime":"201408101521","name":null},{"coord":{"x":2556833.6,"y":6680373.2},"arrTime":"201408101523","depTime":"201408101523","name":null},{"coord":{"x":2556826.4,"y":6680368},"arrTime":"201408101523","depTime":"201408101523","name":"Latokartanonkaari"},{"coord":{"x":2556723.5,"y":6680312.9},"arrTime":"201408101525","depTime":"201408101525","name":"Agnes Sj\u00f6bergin katu"},{"coord":{"x":2556720.5,"y":6680319.6},"arrTime":"201408101525","depTime":"201408101525","name":"Latokartanonkaari"},{"coord":{"x":2556337.8,"y":6680095.5},"arrTime":"201408101531","depTime":"201408101531","name":null},{"coord":{"x":2556263.6,"y":6680075.9},"arrTime":"201408101533","depTime":"201408101533","name":null},{"coord":{"x":2556256.7,"y":6680120.9},"arrTime":"201408101533","depTime":"201408101533","name":"Pihlajam\u00e4entie"},{"coord":{"x":2556236.3,"y":6680168.6},"arrTime":"201408101534","depTime":"201408101534","name":null},{"coord":{"x":2556252.7,"y":6680179.2},"arrTime":"201408101534","depTime":"201408101534","name":null},{"coord":{"x":2556284,"y":6680189},"arrTime":"201408101535","depTime":"201408101535","name":"Viikki","code":"1362142","shortCode":"3034","stopAddress":"Lahdenv\u00e4yl\u00e4"}]},{"length":3865,"duration":300,"type":"5","code":"4734  2","locs":[{"coord":{"x":2556284,"y":6680189},"arrTime":"201408101535","depTime":"201408101535","name":"Viikki","code":"1362142","shortCode":"3034","stopAddress":"Lahdenv\u00e4yl\u00e4"},{"coord":{"x":2553950,"y":6678318},"arrTime":"201408101539","depTime":"201408101539","name":"Valtimontie","code":"1240123","shortCode":"3032","stopAddress":"Kustaa Vaasan tie"},{"coord":{"x":2553825,"y":6677690},"arrTime":"201408101540","depTime":"201408101540","name":"Sumatrantie","code":"1240106","shortCode":"3030","stopAddress":"Kustaa Vaasan tie"}]},{"length":410,"duration":331.32,"type":"walk","locs":[{"coord":{"x":2553825,"y":6677690},"arrTime":"201408101540","depTime":"201408101540","name":"Sumatrantie","code":"1240106","shortCode":"3030","stopAddress":"Kustaa Vaasan tie"},{"coord":{"x":2553839,"y":6677754.6},"arrTime":"201408101540","depTime":"201408101540","name":null},{"coord":{"x":2553804.8,"y":6677768.1},"arrTime":"201408101541","depTime":"201408101541","name":"Intiankatu"},{"coord":{"x":2553762.4,"y":6677808.6},"arrTime":"201408101542","depTime":"201408101542","name":"Intiankatu"},{"coord":{"x":2553623.5,"y":6677953.6},"arrTime":"201408101545","depTime":"201408101545","name":null},{"coord":{"x":2553619,"y":6677922},"arrTime":"201408101545","depTime":"201408101545","name":null}]}]},{"length":14530.841,"duration":2880,"legs":[{"length":410,"duration":331.32,"type":"walk","locs":[{"coord":{"x":2553619,"y":6677922},"arrTime":"201408101546","depTime":"201408101546","name":null},{"coord":{"x":2553623.5,"y":6677953.6},"arrTime":"201408101547","depTime":"201408101547","name":"Intiankatu"},{"coord":{"x":2553762.4,"y":6677808.6},"arrTime":"201408101549","depTime":"201408101549","name":"Intiankatu"},{"coord":{"x":2553804.8,"y":6677768.1},"arrTime":"201408101550","depTime":"201408101550","name":null},{"coord":{"x":2553839,"y":6677754.6},"arrTime":"201408101551","depTime":"201408101551","name":"Kustaa Vaasan tie"},{"coord":{"x":2553825,"y":6677690},"arrTime":"201408101552","depTime":"201408101552","name":"Sumatrantie","code":"1240106","shortCode":"3030","stopAddress":"Kustaa Vaasan tie"}]},{"length":2661,"duration":300,"type":"5","code":"4741  2","locs":[{"coord":{"x":2553825,"y":6677690},"arrTime":"201408101552","depTime":"201408101552","name":"Sumatrantie","code":"1240106","shortCode":"3030","stopAddress":"Kustaa Vaasan tie"},{"coord":{"x":2553718,"y":6677372},"arrTime":"201408101552","depTime":"201408101552","name":"Kumpulan kampus","code":"1240118","shortCode":"3028","stopAddress":"Kustaa Vaasan tie"},{"coord":{"x":2553570,"y":6676406},"arrTime":"201408101554","depTime":"201408101554","name":"Vallilan varikko","code":"1220104","shortCode":"3024","stopAddress":"H\u00e4meentie"},{"coord":{"x":2553655,"y":6675942},"arrTime":"201408101556","depTime":"201408101556","name":"Ristikkokatu","code":"1220102","shortCode":"3022","stopAddress":"H\u00e4meentie"},{"coord":{"x":2553501,"y":6675399},"arrTime":"201408101557","depTime":"201408101557","name":"S\u00f6rn\u00e4inen(M)","code":"1113229","shortCode":"2408","stopAddress":"H\u00e4meentie"}]},{"length":246,"duration":211.26,"type":"walk","locs":[{"coord":{"x":2553501,"y":6675399},"arrTime":"201408101557","depTime":"201408101557","name":"S\u00f6rn\u00e4inen(M)","code":"1113229","shortCode":"2408","stopAddress":"H\u00e4meentie"},{"coord":{"x":2553520.8,"y":6675485.1},"arrTime":"201408101558","depTime":"201408101558","name":null},{"coord":{"x":2553502.4,"y":6675506.4},"arrTime":"201408101558","depTime":"201408101558","name":"Helsinginkatu"},{"coord":{"x":2553451.3,"y":6675500.7},"arrTime":"201408101559","depTime":"201408101559","name":"Pengerkatu"},{"coord":{"x":2553436,"y":6675480},"arrTime":"201408101600","depTime":"201408101606","name":"S\u00f6rn\u00e4inen","code":"1121602","shortCode":"0017","stopAddress":"S\u00f6rn\u00e4inen"}]},{"length":3001,"duration":300,"type":"6","code":"1300V 2","locs":[{"coord":{"x":2553436,"y":6675480},"arrTime":"201408101600","depTime":"201408101606","name":"S\u00f6rn\u00e4inen","code":"1121602","shortCode":"0017","stopAddress":"S\u00f6rn\u00e4inen"},{"coord":{"x":2552929,"y":6674573},"arrTime":"201408101607","depTime":"201408101607","name":"Hakaniemi","code":"1111602","shortCode":"0016","stopAddress":"Hakaniemi"},{"coord":{"x":2552761,"y":6673716},"arrTime":"201408101609","depTime":"201408101609","name":"Kaisaniemi","code":"1020604","shortCode":"0015","stopAddress":"Kaisaniemi"},{"coord":{"x":2552422,"y":6673565},"arrTime":"201408101610","depTime":"201408101610","name":"Rautatientori","code":"1020602","shortCode":"0014","stopAddress":"Rautatientori"},{"coord":{"x":2551890,"y":6673395},"arrTime":"201408101611","depTime":"201408101611","name":"Kamppi","code":"1040602","shortCode":"0013","stopAddress":"Kamppi"}]},{"length":93,"duration":79.8,"type":"walk","locs":[{"coord":{"x":2551890,"y":6673395},"arrTime":"201408101611","depTime":"201408101611","name":"Kamppi","code":"1040602","shortCode":"0013","stopAddress":"Kamppi"},{"coord":{"x":2551884.4,"y":6673394.4},"arrTime":"201408101611","depTime":"201408101611","name":null},{"coord":{"x":2551897.5,"y":6673401.4},"arrTime":"201408101611","depTime":"201408101611","name":"Tennispalatsinaukio"},{"coord":{"x":2551879.9,"y":6673384.3},"arrTime":"201408101611","depTime":"201408101611","name":"Tennispalatsinaukio"},{"coord":{"x":2551872,"y":6673392},"arrTime":"201408101612","depTime":"201408101612","name":null},{"coord":{"x":2551858,"y":6673384},"arrTime":"201408101612","depTime":"201408101619","name":"Kamppi, laituri 54","code":"1040284","shortCode":"1254","stopAddress":"Kamppi"}]},{"length":7588,"duration":540,"type":"5","code":"2160  1","locs":[{"coord":{"x":2551858,"y":6673384},"arrTime":"201408101612","depTime":"201408101619","name":"Kamppi, laituri 54","code":"1040284","shortCode":"1254","stopAddress":"Kamppi"},{"coord":{"x":2551615,"y":6673091},"arrTime":"201408101620","depTime":"201408101620","name":"Lapinrinne","code":"1040231","shortCode":"1232","stopAddress":"Lapinrinne 2"},{"coord":{"x":2550900,"y":6672895},"arrTime":"201408101622","depTime":"201408101622","name":"L\u00e4nsiv\u00e4yl\u00e4","code":"1201229","shortCode":"1011","stopAddress":"Porkkalankatu 1"},{"coord":{"x":2546887,"y":6673070},"arrTime":"201408101626","depTime":"201408101626","name":"Hanasaari","code":"2222205","shortCode":"E2205","stopAddress":"L\u00e4nsiv\u00e4yl\u00e4"},{"coord":{"x":2545926,"y":6673400},"arrTime":"201408101627","depTime":"201408101627","name":"Karhusaarensolmu","code":"2213234","shortCode":"E2036","stopAddress":"L\u00e4nsiv\u00e4yl\u00e4"},{"coord":{"x":2545151,"y":6673446},"arrTime":"201408101628","depTime":"201408101628","name":"Tapiolansolmu","code":"2211290","shortCode":"E2017","stopAddress":"L\u00e4nsiv\u00e4yl\u00e4"}]},{"length":528,"duration":415.8,"type":"walk","locs":[{"coord":{"x":2545151,"y":6673446},"arrTime":"201408101628","depTime":"201408101628","name":"Tapiolansolmu","code":"2211290","shortCode":"E2017","stopAddress":"L\u00e4nsiv\u00e4yl\u00e4"},{"coord":{"x":2544941.2,"y":6673415.3},"arrTime":"201408101631","depTime":"201408101631","name":null},{"coord":{"x":2544915.5,"y":6673492.3},"arrTime":"201408101632","depTime":"201408101632","name":null},{"coord":{"x":2544912.5,"y":6673496.3},"arrTime":"201408101632","depTime":"201408101632","name":null},{"coord":{"x":2544835,"y":6673467.2},"arrTime":"201408101633","depTime":"201408101633","name":"Revontulenkuja"},{"coord":{"x":2544767,"y":6673546},"arrTime":"201408101634","depTime":"201408101634","name":null}]}]}],[{"length":5252.008,"duration":1380,"legs":[{"length":975,"duration":815.58,"type":"walk","locs":[{"coord":{"x":2556945,"y":6680289},"arrTime":"201408101526","depTime":"201408101526","name":null},{"coord":{"x":2556833.6,"y":6680373.2},"arrTime":"201408101528","depTime":"201408101528","name":null},{"coord":{"x":2556826.4,"y":6680368},"arrTime":"201408101528","depTime":"201408101528","name":"Latokartanonkaari"},{"coord":{"x":2556723.5,"y":6680312.9},"arrTime":"201408101530","depTime":"201408101530","name":"Agnes Sj\u00f6bergin katu"},{"coord":{"x":2556720.5,"y":6680319.6},"arrTime":"201408101530","depTime":"201408101530","name":"Latokartanonkaari"},{"coord":{"x":2556337.8,"y":6680095.5},"arrTime":"201408101536","depTime":"201408101536","name":null},{"coord":{"x":2556263.6,"y":6680075.9},"arrTime":"201408101538","depTime":"201408101538","name":null},{"coord":{"x":2556256.7,"y":6680120.9},"arrTime":"201408101538","depTime":"201408101538","name":"Pihlajam\u00e4entie"},{"coord":{"x":2556236.3,"y":6680168.6},"arrTime":"201408101539","depTime":"201408101539","name":null},{"coord":{"x":2556252.7,"y":6680179.2},"arrTime":"201408101539","depTime":"201408101539","name":null},{"coord":{"x":2556284,"y":6680189},"arrTime":"201408101540","depTime":"201408101540","name":"Viikki","code":"1362142","shortCode":"3034","stopAddress":"Lahdenv\u00e4yl\u00e4"}]},{"length":3865,"duration":240,"type":"5","code":"4730  2","locs":[{"coord":{"x":2556284,"y":6680189},"arrTime":"201408101540","depTime":"201408101540","name":"Viikki","code":"1362142","shortCode":"3034","stopAddress":"Lahdenv\u00e4yl\u00e4"},{"coord":{"x":2553950,"y":6678318},"arrTime":"201408101543","depTime":"201408101543","name":"Valtimontie","code":"1240123","shortCode":"3032","stopAddress":"Kustaa Vaasan tie"},{"coord":{"x":2553825,"y":6677690},"arrTime":"201408101544","depTime":"201408101544","name":"Sumatrantie","code":"1240106","shortCode":"3030","stopAddress":"Kustaa Vaasan tie"}]},{"length":410,"duration":331.32,"type":"walk","locs":[{"coord":{"x":2553825,"y":6677690},"arrTime":"201408101544","depTime":"201408101544","name":"Sumatrantie","code":"1240106","shortCode":"3030","stopAddress":"Kustaa Vaasan tie"},{"coord":{"x":2553839,"y":6677754.6},"arrTime":"201408101544","depTime":"201408101544","name":null},{"coord":{"x":2553804.8,"y":6677768.1},"arrTime":"201408101545","depTime":"201408101545","name":"Intiankatu"},{"coord":{"x":2553762.4,"y":6677808.6},"arrTime":"201408101546","depTime":"201408101546","name":"Intiankatu"},{"coord":{"x":2553623.5,"y":6677953.6},"arrTime":"201408101549","depTime":"201408101549","name":null},{"coord":{"x":2553619,"y":6677922},"arrTime":"201408101549","depTime":"201408101549","name":null}]}]},{"length":15356.815,"duration":2580,"legs":[{"length":410,"duration":331.32,"type":"walk","locs":[{"coord":{"x":2553619,"y":6677922},"arrTime":"201408101552","depTime":"201408101552","name":null},{"coord":{"x":2553623.5,"y":6677953.6},"arrTime":"201408101553","depTime":"201408101553","name":"Intiankatu"},{"coord":{"x":2553762.4,"y":6677808.6},"arrTime":"201408101555","depTime":"201408101555","name":"Intiankatu"},{"coord":{"x":2553804.8,"y":6677768.1},"arrTime":"201408101556","depTime":"201408101556","name":null},{"coord":{"x":2553839,"y":6677754.6},"arrTime":"201408101557","depTime":"201408101557","name":"Kustaa Vaasan tie"},{"coord":{"x":2553825,"y":6677690},"arrTime":"201408101558","depTime":"201408101558","name":"Sumatrantie","code":"1240106","shortCode":"3030","stopAddress":"Kustaa Vaasan tie"}]},{"length":2742,"duration":360,"type":"1","code":"1075  2","locs":[{"coord":{"x":2553825,"y":6677690},"arrTime":"201408101558","depTime":"201408101558","name":"Sumatrantie","code":"1240106","shortCode":"3030","stopAddress":"Kustaa Vaasan tie"},{"coord":{"x":2553718,"y":6677372},"arrTime":"201408101558","depTime":"201408101558","name":"Kumpulan kampus","code":"1240118","shortCode":"3028","stopAddress":"Kustaa Vaasan tie"},{"coord":{"x":2553495,"y":6676678},"arrTime":"201408101600","depTime":"201408101600","name":"Paavalin kirkko","code":"1220127","shortCode":"3026","stopAddress":"H\u00e4meentie"},{"coord":{"x":2553570,"y":6676406},"arrTime":"201408101601","depTime":"201408101601","name":"Vallilan varikko","code":"1220104","shortCode":"3024","stopAddress":"H\u00e4meentie"},{"coord":{"x":2553655,"y":6675942},"arrTime":"201408101603","depTime":"201408101603","name":"Ristikkokatu","code":"1220102","shortCode":"3022","stopAddress":"H\u00e4meentie"},{"coord":{"x":2553500,"y":6675418},"arrTime":"201408101604","depTime":"201408101604","name":"S\u00f6rn\u00e4inen(M)","code":"1113131","shortCode":"2410","stopAddress":"H\u00e4meentie 50"}]},{"length":230,"duration":197.7,"type":"walk","locs":[{"coord":{"x":2553500,"y":6675418},"arrTime":"201408101604","depTime":"201408101604","name":"S\u00f6rn\u00e4inen(M)","code":"1113131","shortCode":"2410","stopAddress":"H\u00e4meentie 50"},{"coord":{"x":2553520.8,"y":6675485.1},"arrTime":"201408101605","depTime":"201408101605","name":null},{"coord":{"x":2553502.4,"y":6675506.4},"arrTime":"201408101605","depTime":"201408101605","name":"Helsinginkatu"},{"coord":{"x":2553451.3,"y":6675500.7},"arrTime":"201408101606","depTime":"201408101606","name":"Pengerkatu"},{"coord":{"x":2553436,"y":6675480},"arrTime":"201408101607","depTime":"201408101611","name":"S\u00f6rn\u00e4inen","code":"1121602","shortCode":"0017","stopAddress":"S\u00f6rn\u00e4inen"}]},{"length":4280,"duration":420,"type":"6","code":"1300M 2","locs":[{"coord":{"x":2553436,"y":6675480},"arrTime":"201408101607","depTime":"201408101611","name":"S\u00f6rn\u00e4inen","code":"1121602","shortCode":"0017","stopAddress":"S\u00f6rn\u00e4inen"},{"coord":{"x":2552929,"y":6674573},"arrTime":"201408101612","depTime":"201408101612","name":"Hakaniemi","code":"1111602","shortCode":"0016","stopAddress":"Hakaniemi"},{"coord":{"x":2552761,"y":6673716},"arrTime":"201408101614","depTime":"201408101614","name":"Kaisaniemi","code":"1020604","shortCode":"0015","stopAddress":"Kaisaniemi"},{"coord":{"x":2552422,"y":6673565},"arrTime":"201408101615","depTime":"201408101615","name":"Rautatientori","code":"1020602","shortCode":"0014","stopAddress":"Rautatientori"},{"coord":{"x":2551890,"y":6673395},"arrTime":"201408101616","depTime":"201408101616","name":"Kamppi","code":"1040602","shortCode":"0013","stopAddress":"Kamppi"},{"coord":{"x":2550919,"y":6672692},"arrTime":"201408101618","depTime":"201408101618","name":"Ruoholahti","code":"1201602","shortCode":"0012","stopAddress":"Ruoholahti"}]},{"length":342,"duration":293.52,"type":"walk","locs":[{"coord":{"x":2550919,"y":6672692},"arrTime":"201408101618","depTime":"201408101618","name":"Ruoholahti","code":"1201602","shortCode":"0012","stopAddress":"Ruoholahti"},{"coord":{"x":2550912.7,"y":6672745.7},"arrTime":"201408101618","depTime":"201408101618","name":"It\u00e4merenkatu"},{"coord":{"x":2550928.1,"y":6672747.7},"arrTime":"201408101618","depTime":"201408101618","name":null},{"coord":{"x":2550967.7,"y":6672825.7},"arrTime":"201408101620","depTime":"201408101620","name":null},{"coord":{"x":2550962.1,"y":6672920.1},"arrTime":"201408101621","depTime":"201408101621","name":null},{"coord":{"x":2550945.9,"y":6672918.3},"arrTime":"201408101621","depTime":"201408101621","name":null},{"coord":{"x":2550945.9,"y":6672907},"arrTime":"201408101622","depTime":"201408101622","name":"Porkkalankatu"},{"coord":{"x":2550900,"y":6672895},"arrTime":"201408101622","depTime":"201408101627","name":"L\u00e4nsiv\u00e4yl\u00e4","code":"1201229","shortCode":"1011","stopAddress":"Porkkalankatu 1"}]},{"length":7169,"duration":420,"type":"5","code":"2107  1","locs":[{"coord":{"x":2550900,"y":6672895},"arrTime":"201408101622","depTime":"201408101627","name":"L\u00e4nsiv\u00e4yl\u00e4","code":"1201229","shortCode":"1011","stopAddress":"Porkkalankatu 1"},{"coord":{"x":2546887,"y":6673070},"arrTime":"201408101631","depTime":"201408101631","name":"Hanasaari","code":"2222205","shortCode":"E2205","stopAddress":"L\u00e4nsiv\u00e4yl\u00e4"},{"coord":{"x":2545876,"y":6673426},"arrTime":"201408101632","depTime":"201408101632","name":"Karhusaarensolmu","code":"2213236","shortCode":"E2037","stopAddress":"L\u00e4nsiv\u00e4yl\u00e4"},{"coord":{"x":2544830,"y":6673260},"arrTime":"201408101633","depTime":"201408101633","name":"Ankkurisaarentie","code":"2231208","shortCode":"E2308","stopAddress":"Laituri 7"},{"coord":{"x":2544729,"y":6673644},"arrTime":"201408101634","depTime":"201408101634","name":"Tennispuisto","code":"2211275","shortCode":"E2015","stopAddress":"Laituri 31"}]},{"length":180,"duration":134.94,"type":"walk","locs":[{"coord":{"x":2544729,"y":6673644},"arrTime":"201408101634","depTime":"201408101634","name":"Tennispuisto","code":"2211275","shortCode":"E2015","stopAddress":"Laituri 31"},{"coord":{"x":2544734.4,"y":6673659.6},"arrTime":"201408101634","depTime":"201408101634","name":"Revontulentie"},{"coord":{"x":2544750.9,"y":6673628.5},"arrTime":"201408101634","depTime":"201408101634","name":"Revontulentie"},{"coord":{"x":2544760.1,"y":6673631},"arrTime":"201408101634","depTime":"201408101634","name":"Revontulentie"},{"coord":{"x":2544763,"y":6673619.6},"arrTime":"201408101635","depTime":"201408101635","name":"Revontulentie"},{"coord":{"x":2544770.6,"y":6673616},"arrTime":"201408101635","depTime":"201408101635","name":"Revontulenkuja"},{"coord":{"x":2544788.6,"y":6673557.1},"arrTime":"201408101636","depTime":"201408101636","name":null},{"coord":{"x":2544788.6,"y":6673551.3},"arrTime":"201408101636","depTime":"201408101636","name":"Revontulenkuja"},{"coord":{"x":2544767,"y":6673546},"arrTime":"201408101636","depTime":"201408101636","name":null}]}]}]];
   });